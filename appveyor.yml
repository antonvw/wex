version: 3.1.0.{build}

branches:
  only:
    - master
    - v3.0

clone_folder: c:\projects\wxex

platform:
  - x64

configuration:
  - Release

install:
  - ps: Start-FileDownload 'http://sourceforge.net/projects/wxwindows/files/3.0.2/wxWidgets-3.0.2_headers.7z'
  - ps: Start-FileDownload 'http://sourceforge.net/projects/wxwindows/files/3.0.2/binaries/wxMSW-3.0.2_vc120_x64_Dev.7z'
  - cmd: 7z x wxWidgets-3.0.2_headers.7z -oC:\wxWidgets
  - cmd: 7z x wxMSW-3.0.2_vc120_x64_Dev.7z -oC:\wxWidgets
  - cmd: ren C:\wxWidgets\lib\vc120_x64_dll vc_lib
  
before_build:
  - mkdir build
  - ps: cd build
  - cmake ..
  
build_script:
  - msbuild ALL_BUILD.vcxproj

test: OFF

artifacts:
- path: 'syncped\Debug\syncped.exe'
